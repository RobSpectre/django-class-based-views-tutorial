/**
 * Featherlight - ultra slim jQuery lightbox
 * Version 1.2.3 - http://noelboss.github.io/featherlight/
 *
 * Copyright 2015, NoÃ«l Raoul Bossart (http://www.noelboss.com)
 * MIT Licensed.
**/
!function(a){"use strict";function b(a,c){if(!(this instanceof b)){var d=new b(a,c);return d.open(),d}this.id=b.id++,this.setup(a,c),this.chainCallbacks(b._callbackChain)}if("undefined"==typeof a)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var c=[],d=function(b){return c=a.grep(c,function(a){return a!==b&&a.$instance.closest("body").length>0})},e=function(a,b){var c={},d=new RegExp("^"+b+"([A-Z])(.*)");for(var e in a){var f=e.match(d);if(f){var g=(f[1]+f[2].replace(/([A-Z])/g,"-$1")).toLowerCase();c[g]=a[e]}}return c},f={keyup:"onKeyUp",resize:"onResize"},g=function(c){a.each(b.opened().reverse(),function(){return c.isDefaultPrevented()||!1!==this[f[c.type]](c)?void 0:(c.preventDefault(),c.stopPropagation(),!1)})},h=function(c){if(c!==b._globalHandlerInstalled){b._globalHandlerInstalled=c;var d=a.map(f,function(a,c){return c+"."+b.prototype.namespace}).join(" ");a(window)[c?"on":"off"](d,g)}};b.prototype={constructor:b,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",otherClose:null,beforeOpen:a.noop,beforeContent:a.noop,beforeClose:a.noop,afterOpen:a.noop,afterContent:a.noop,afterClose:a.noop,onKeyUp:a.noop,onResize:a.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(b,c){"object"!=typeof b||b instanceof a!=!1||c||(c=b,b=void 0);var d=a.extend(this,c,{target:b}),e=d.resetCss?d.namespace+"-reset":d.namespace,f=a(d.background||['<div class="'+e+"-loading "+e+'">','<div class="'+e+'-content">','<span class="'+e+"-close-icon "+d.namespace+'-close">',d.closeIcon,"</span>",'<div class="'+d.namespace+'-inner">'+d.loading+"</div>","</div>","</div>"].join("")),g="."+d.namespace+"-close"+(d.otherClose?","+d.otherClose:"");return d.$instance=f.clone().addClass(d.variant),d.$instance.on(d.closeTrigger+"."+d.namespace,function(b){var c=a(b.target);("background"===d.closeOnClick&&c.is("."+d.namespace)||"anywhere"===d.closeOnClick||c.closest(g).length)&&(b.preventDefault(),d.close())}),this},getContent:function(){var b=this,c=this.constructor.contentFilters,d=function(a){return b.$currentTarget&&b.$currentTarget.attr(a)},e=d(b.targetAttr),f=b.target||e||"",g=c[b.type];if(!g&&f in c&&(g=c[f],f=b.target&&e),f=f||d("href")||"",!g)for(var h in c)b[h]&&(g=c[h],f=b[h]);if(!g){var i=f;if(f=null,a.each(b.contentFilters,function(){return g=c[this],g.test&&(f=g.test(i)),!f&&g.regex&&i.match&&i.match(g.regex)&&(f=i),!f}),!f)return"console"in window&&window.console.error("Featherlight: no content filter found "+(i?' for "'+i+'"':" (no target specified)")),!1}return g.process.call(b,f)},setContent:function(b){var c=this;return(b.is("iframe")||a("iframe",b).length>0)&&c.$instance.addClass(c.namespace+"-iframe"),c.$instance.removeClass(c.namespace+"-loading"),c.$instance.find("."+c.namespace+"-inner").slice(1).remove().end().replaceWith(a.contains(c.$instance[0],b[0])?"":b),c.$content=b.addClass(c.namespace+"-inner"),c},open:function(b){var d=this;if(d.$instance.hide().appendTo(d.root),!(b&&b.isDefaultPrevented()||d.beforeOpen(b)===!1)){b&&b.preventDefault();var e=d.getContent();if(e)return c.push(d),h(!0),d.$instance.fadeIn(d.openSpeed),d.beforeContent(b),a.when(e).always(function(a){d.setContent(a),d.afterContent(b)}).then(d.$instance.promise()).done(function(){d.afterOpen(b)})}return d.$instance.detach(),a.Deferred().reject().promise()},close:function(b){var c=this,e=a.Deferred();return c.beforeClose(b)===!1?e.reject():(0===d(c).length&&h(!1),c.$instance.fadeOut(c.closeSpeed,function(){c.$instance.detach(),c.afterClose(b),e.resolve()})),e.promise()},chainCallbacks:function(b){for(var c in b)this[c]=a.proxy(b[c],this,a.proxy(this[c],this))}},a.extend(b,{id:0,autoBind:"[data-featherlight]",defaults:b.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(b){return b instanceof a&&b},process:function(b){return a(b).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp)(\?\S*)?$/i,process:function(b){var c=this,d=a.Deferred(),e=new Image,f=a('<img src="'+b+'" alt="" class="'+c.namespace+'-image" />');return e.onload=function(){f.naturalWidth=e.width,f.naturalHeight=e.height,d.resolve(f)},e.onerror=function(){d.reject(f)},e.src=b,d.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(b){return a(b)}},ajax:{regex:/./,process:function(b){var c=a.Deferred(),d=a("<div></div>").load(b,function(a,b){"error"!==b&&c.resolve(d.contents()),c.fail()});return c.promise()}},iframe:{process:function(b){var c=new a.Deferred,d=a("<iframe/>").hide().attr("src",b).css(e(this,"iframe")).on("load",function(){c.resolve(d.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return c.promise()}},text:{process:function(b){return a("<div>",{text:b})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(b,c){var d=this,e=new RegExp("^data-"+c+"-(.*)"),f={};return b&&b.attributes&&a.each(b.attributes,function(){var b=this.name.match(e);if(b){var c=this.value,g=a.camelCase(b[1]);if(a.inArray(g,d.functionAttributes)>=0)c=new Function(c);else try{c=a.parseJSON(c)}catch(h){}f[g]=c}}),f},extend:function(b,c){var d=function(){this.constructor=b};return d.prototype=this.prototype,b.prototype=new d,b.__super__=this.prototype,a.extend(b,this,c),b.defaults=b.prototype,b},attach:function(b,c,d){var e=this;"object"!=typeof c||c instanceof a!=!1||d||(d=c,c=void 0),d=a.extend({},d);var f=d.namespace||e.defaults.namespace,g=a.extend({},e.defaults,e.readElementConfig(b[0],f),d);return b.on(g.openTrigger+"."+g.namespace,g.filter,function(f){var h=a.extend({$source:b,$currentTarget:a(this)},e.readElementConfig(b[0],g.namespace),e.readElementConfig(this,g.namespace),d);new e(c,h).open(f)}),b},current:function(){var a=this.opened();return a[a.length-1]||null},opened:function(){var b=this;return d(),a.grep(c,function(a){return a instanceof b})},close:function(){var a=this.current();return a?a.close():void 0},_onReady:function(){var b=this;b.autoBind&&(b.attach(a(document),{filter:b.autoBind}),a(b.autoBind).filter("[data-featherlight-filter]").each(function(){b.attach(a(this))}))},_callbackChain:{onKeyUp:function(a,b){return 27===b.keyCode?(this.closeOnEsc&&this.$instance.find("."+this.namespace+"-close:first").click(),!1):a(b)},onResize:function(a,b){if(this.$content.naturalWidth){var c=this.$content.naturalWidth,d=this.$content.naturalHeight;this.$content.css("width","").css("height","");var e=Math.max(c/parseInt(this.$content.parent().css("width"),10),d/parseInt(this.$content.parent().css("height"),10));e>1&&this.$content.css("width",""+c/e+"px").css("height",""+d/e+"px")}return a(b)},afterContent:function(a,b){var c=a(b);return this.onResize(b),c}}}),a.featherlight=b,a.fn.featherlight=function(a,c){return b.attach(this,a,c)},a(document).ready(function(){b._onReady()})}(jQuery);
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(r){var t,e,o,a,h,n,c,d="",C=0;for(r=Base64._utf8_encode(r);C<r.length;)t=r.charCodeAt(C++),e=r.charCodeAt(C++),o=r.charCodeAt(C++),a=t>>2,h=(3&t)<<4|e>>4,n=(15&e)<<2|o>>6,c=63&o,isNaN(e)?n=c=64:isNaN(o)&&(c=64),d=d+this._keyStr.charAt(a)+this._keyStr.charAt(h)+this._keyStr.charAt(n)+this._keyStr.charAt(c);return d},decode:function(r){var t,e,o,a,h,n,c,d="",C=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");C<r.length;)a=this._keyStr.indexOf(r.charAt(C++)),h=this._keyStr.indexOf(r.charAt(C++)),n=this._keyStr.indexOf(r.charAt(C++)),c=this._keyStr.indexOf(r.charAt(C++)),t=a<<2|h>>4,e=(15&h)<<4|n>>2,o=(3&n)<<6|c,d+=String.fromCharCode(t),64!=n&&(d+=String.fromCharCode(e)),64!=c&&(d+=String.fromCharCode(o));return d=Base64._utf8_decode(d)},_utf8_encode:function(r){r=r.replace(/\r\n/g,"\n");for(var t="",e=0;e<r.length;e++){var o=r.charCodeAt(e);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(r){for(var t="",e=0,o=c1=c2=0;e<r.length;)o=r.charCodeAt(e),128>o?(t+=String.fromCharCode(o),e++):o>191&&224>o?(c2=r.charCodeAt(e+1),t+=String.fromCharCode((31&o)<<6|63&c2),e+=2):(c2=r.charCodeAt(e+1),c3=r.charCodeAt(e+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),e+=3);return t}};

!function e(t,r,i){function a(n,o){if(!r[n]){if(!t[n]){var l="function"==typeof require&&require;if(!o&&l)return l(n,!0);if(s)return s(n,!0);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}var u=r[n]={exports:{}};t[n][0].call(u.exports,function(e){var r=t[n][1][e];return a(r?r:e)},u,u.exports,e,t,r,i)}return r[n].exports}for(var s="function"==typeof require&&require,n=0;n<i.length;n++)a(i[n]);return a}({1:[function(e,t,r){var i=Backbone.Router.extend({routes:{":stepIndex":"doRoute"},initialize:function(e){var t=this;t.app=e.app},doRoute:function(e){var t=this,r=Number(e);0>r?r=0:r>=t.app.totalSteps&&(r=t.app.totalSteps-1),t.app.set("stepIndex",r)}});t.exports=i},{}],2:[function(e,t,r){var i=e("./views/ViewsaurusView"),a=e("./Router");t.exports=Backbone.Model.extend({initialize:function(){var e=this,t=$(".saurus-prose .step");e.totalSteps=t.length,e.mainView=new i({el:"#viewsaurus",app:e}),e.router=new a({app:e}),Backbone.history.start()},hasNext:function(){var e=this;return e.get("stepIndex")+1<e.totalSteps},hasPrevious:function(){var e=this;return 0!==e.get("stepIndex")},showExplorer:function(){var e=this;e.set("explorerShown",!0)},hideExplorer:function(){var e=this;e.set("explorerShown",!1)}})},{"./Router":1,"./views/ViewsaurusView":7}],3:[function(e,t,r){var i=e("./Viewsaurus");$(function(){window.viewsaurus=new i})},{"./Viewsaurus":2}],4:[function(e,t,r){function i(e){for(var t="&nbsp;/&nbsp;",r=e.split(/[\/\\]/),i=t,a=0,s=r.length;s>a;a++)i+="<span>"+r[a]+"</span>",s>a+1&&(i+=t);return i}var a=(ace.require("ace/range").Range,270),s=Backbone.View.extend({el:"#viewsaurus .saurus-code",events:{"click .file-path i":"toggleExplorer"},initialize:function(e){var t=this;t.app=e.app;var r=t.$el.find(".saurus-editor").get(0);t.editor=ace.edit(r),t.editor.setFontSize(14),t.editor.setAnimatedScroll(!0),t.editor.setReadOnly(!0),t.editor.setHighlightActiveLine(!1),t.editor.setShowPrintMargin(!1),t.editor.$blockScrolling=1/0,t.editor.setBehavioursEnabled(!1),t.editor.setWrapBehavioursEnabled(!1),t.editor.setTheme("ace/theme/monokai"),t.editor.renderer.setScrollMargin(0,8,0,8),t.editor.getSession().setWrapLimitRange(),t.editor.getSession().setUseWorker(!1),t.$steps=$("#viewsaurus .saurus-content .step"),t.$files=$("#viewsaurus .saurus-file"),t.$breadcrumbs=t.$el.find(".file-path .crumb-container"),t.$editor=t.$el.find(".saurus-editor"),t.$folder=t.$el.find(".file-path i"),t.app.on("change:stepIndex",t.stepChange,t),t.app.on("change:currentFile",t.currentFileChange,t),t.app.on("change:explorerShown",t.showExplorer,t),t.app.on("resize",function(){t.editor.resize(!0)}),t.showFile(t.$files.first())},currentFileChange:function(){var e=this,t=e.app.get("currentFile"),r=$('.saurus-file[data-file="'+t+'"]');e.showFile(r)},stepChange:function(){var e=this,t=e.$steps.eq(e.app.get("stepIndex")),r=t.attr("data-file"),i=t.attr("data-highlight");if(r){var a=$('.saurus-file[data-file="'+r+'"]');e.showFile(a,i)}else e.editor.getSession().setActiveLines(""),e.editor.setValue(e.editor.getValue()),e.editor.clearSelection()},toggleExplorer:function(){var e=this,t=e.app.get("explorerShown");t||e.app.trigger("show_explorer"),e.app.set("explorerShown",!t)},showExplorer:function(){var e=this,t=e.app.get("explorerShown"),r=t?a:0,i=t?"fa-folder-open":"fa-folder",s=t?"fa-folder":"fa-folder-open";e.$folder.removeClass(s).addClass(i),e.$el.animate({right:r},function(){e.editor.resize(!0)})},showFile:function(e,t){function r(e,t){setTimeout(function(){a.editor.scrollToLine(e,!1,t)},50)}var a=this,s=e.attr("data-mode"),n=e.attr("data-file");a.app.set({currentFile:n}),a.editor.getSession().setMode("ace/mode/"+s),a.$breadcrumbs.html(i(n)),a.editor.getSession().setActiveLines(t);var o=Base64.decode(e.val()).trim();if(a.editor.setValue(o),a.editor.clearSelection(),a.editor.resize(),!t)return r(0,!1),a.$editor.removeClass("saurus-highlighted");a.$editor.addClass("saurus-highlighted");var l=t.split(","),p=Number(l[0].split("-")[0])-4;0>p&&(p=0),r(p,!0)}});t.exports=s},{}],5:[function(e,t,r){function i(e,t){var r='<li class="saurus-explorer-file" data-file="'+t+'">';return r+='<i class="fa fa-fw fa-file-text-o"></i>&nbsp;'+e+"</li>"}var a=-270,s=1280,n=Backbone.View.extend({el:"#viewsaurus .saurus-explorer",events:{"click .saurus-explorer-file":"selectFile"},initialize:function(e){var t=this;t.app=e.app,t.$inner=t.$el.find(".saurus-file-list"),t.$files=$("#viewsaurus .saurus-file"),t.$steps=$("#viewsaurus .saurus-content .step"),t.app.on("change:explorerShown",t.toggleExplorer,t),t.app.on("change:stepIndex",t.selectCurrent,t),t.createExplorer(),_.defer(function(){$("#viewsaurus").outerWidth()>=s&&t.app.set("explorerShown",!0)})},createExplorer:function(){var e=this,t=[],r=[],a={};e.$files.each(function(){var e=$(this),i=e.attr("data-file"),a=i.split(/[\/\\]/);a.length>1?t.push(i):r.push(i)}),t.sort(),r.sort();for(var s=0,n=t.length;n>s;s++){var o=t[s],l=o.split(/[\/\\]/),p=l.pop(),u=l.join("/");a[u]||(a[u]=[]),a[u].push({fileName:p,fullPath:o})}var d="<ul>";for(var f in a){d+='<li class="saurus-explorer-folder">',d+='<i class="fa fa-fw fa-folder-o"></i>',d+="&nbsp;"+f+"<ul>";for(var v=a[f],s=0,n=v.length;n>s;s++){var c=v[s];d+=i(c.fileName,c.fullPath)}d+="</ul></li>"}for(var s=0,n=r.length;n>s;s++)d+=i(r[s],r[s]);d+="</ul>",e.$inner.html(d)},toggleExplorer:function(){var e=this,t=e.app.get("explorerShown")?0:a;e.$el.animate({right:t})},selectCurrent:function(){var e=this,t=e.$steps.eq(e.app.get("stepIndex")),r=t.attr("data-file");if(r){var i=e.$el.find('li[data-file="'+r+'"]');e.$el.find("li").removeClass("current"),i.addClass("current")}},selectFile:function(e){var t=this,r=$(e.target);t.app.set("currentFile",r.attr("data-file")),t.$el.find("li").removeClass("current"),r.addClass("current")}});t.exports=n},{}],6:[function(e,t,r){var i=Backbone.Model.extend({defaults:{overviewShown:!1}}),a=Backbone.View.extend({el:"#viewsaurus .saurus-prose",startFired:!1,lastStepReached:!1,events:{"click .nav-overview":"toggleOverview","click .saurus-overview a":"toggleOverview","click .saurus-start a":"hideStart","click .saurus-content img":"showLightbox","click .nav-previous":"previous","click .nav-next":"next"},initialize:function(e){var t=this;t.app=e.app,t.model=new i,t.$next=t.$el.find(".nav-next"),t.$previous=t.$el.find(".nav-previous"),t.$overviewNav=t.$el.find(".nav-overview i"),t.$content=t.$el.find(".saurus-content"),t.$overviewContent=t.$el.find(".saurus-overview"),t.$total=t.$el.find(".total"),t.$title=t.$el.find(".step-title"),t.$overviewList=t.$el.find(".saurus-overview ul"),t.$progressBar=t.$el.find(".saurus-progress-bar"),t.$nextTitle=t.$el.find(".next-title-inner"),t.$start=t.$el.find(".saurus-start"),t.populateOverview(),t.showNextStep(1),Backbone.history.on("all",t.hideStart,t),t.app.on("change:stepIndex",t.stepChanged,t),t.model.on("change:overviewShown",t.overviewChanged,t)},next:function(){var e=this;e.app.trigger("next")},previous:function(){var e=this;e.app.trigger("previous")},showLightbox:function(e){var t=$(e.currentTarget);$.featherlight(t.attr("src"))},hideStart:function(){var e=this;e.startFired||(_.defer(function(){e.app.trigger("start")}),e.startFired=!1),e.$start.fadeOut()},showNextStep:function(e){var t=this,r="You did it! Good for you :)";if(e<t.app.totalSteps){var i=t.$content.find(".step").eq(e),a=i.attr("data-title").substring(0,35);a.length>34&&(a+="..."),r="Next: "+a}t.$nextTitle.html(r)},toggleOverview:function(){var e=this;e.model.get("overviewShown")||e.app.trigger("show_overview"),e.model.set("overviewShown",!e.model.get("overviewShown"))},stepChanged:function(){var e=this,t=e.app.get("stepIndex"),r=e.$el.find(".step").eq(t);e.showNextStep(t+1),e.model.set("overviewShown",!1),e.$progressBar.animate({width:(t+1)/e.app.totalSteps*100+"%"}),e.$el.find(".step").hide(),r.show(),e.$content.scrollTop(0),e.$title.html(r.attr("data-title")),e.$overviewList.find("li").removeClass("current"),e.$overviewList.find('li[data-step="'+t+'"]').addClass("current"),e.app.hasNext()?e.$next.addClass("clickable").find("a").attr("href","#"+(e.app.get("stepIndex")+1)):(e.lastStepReached||(e.lastStepReached=!0,e.app.trigger("project_completed")),e.$next.removeClass("clickable").find("a").attr("href","#"+e.app.get("stepIndex"))),e.app.hasPrevious()?e.$previous.addClass("clickable").find("a").attr("href","#"+(e.app.get("stepIndex")-1)):e.$previous.removeClass("clickable").find("a").attr("href","#0")},overviewChanged:function(){var e=this,t=e.model.get("overviewShown");t?(e.$overviewContent.animate({left:0}),e.$overviewNav.addClass("fa-close").removeClass("fa-list")):(e.$overviewContent.animate({left:"-100%"}),e.$overviewNav.removeClass("fa-close").addClass("fa-list"))},populateOverview:function(){var e=this,t="",r=!0,i=0;e.$content.find(".chapter, .step").each(function(){var e=$(this);e.hasClass("chapter")?(r||(t+="</ul></li>"),r=!1,t+='<li class="chapter"><span>',t+=e.attr("data-title")+"</span><ul>"):(t+='<li data-step="'+i+'">',t+='<a href="#'+i+'">',t+=e.attr("data-title")+"</a></li>",i++)}),t+="</ul></li>",e.$overviewList.html(t)}});t.exports=a},{}],7:[function(e,t,r){var i=e("./ProseView"),a=e("./CodeView"),s=e("./ExplorerView"),n=Backbone.View.extend({initialize:function(e){this.app=e.app,self.proseView=new i({app:e.app}),self.codeView=new a({app:e.app}),self.explorerView=new s({app:e.app})}});t.exports=n},{"./CodeView":4,"./ExplorerView":5,"./ProseView":6}]},{},[3]);